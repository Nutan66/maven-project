pipeline
{
    agent any
    stages
     {
         stage ('scm checkout')
            {
                steps
                    {
                      git branch: 'master', url: 'https://github.com/Nutan66/maven-project'
                     }
            }
           
           stage('Please compile the code')
           {
              steps
                 {
                  withMaven(jdk: 'localjdk', maven: 'localmaven')
                  {
                   sh 'mvn compile'
                 }
               }
               
            }
            
            stage('Please test the code')
           {
              steps
                 {
                  withMaven(jdk: 'localjdk', maven: 'localmaven')
                  {
                   sh 'mvn test'
                 }
               }
               
            }
            
            
            stage('Please package the code')
           {
              steps
                 {
                  withMaven(jdk: 'localjdk', maven: 'localmaven')
                  {
                   sh 'mvn package'
                 }
               }
               
            }

    }
 }

